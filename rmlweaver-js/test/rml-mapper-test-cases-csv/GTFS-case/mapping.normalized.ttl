@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix : <http://mapping.example.com/> .
@prefix gtfs: <http://vocab.gtfs.org/terms#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix void: <http://rdfs.org/ns/void#> .

:pom_001 a rr:PredicateObjectMap .

:rules_000 a void:Dataset ;
    void:exampleResource :map_stops_000 .

:jc_000 rr:child "parent_station" ;
    rr:parent "stop_id" .

:om_001 a rr:ObjectMap ;
    rr:joinCondition :jc_000 ;
    rr:parentTriplesMap :map_stops_000 .

:pm_001 a rr:PredicateMap ;
    rr:constant gtfs:parentStation .

:map_stops_000 a rr:TriplesMap ;
    rdfs:label "stops" ;
    rml:logicalSource :source_000 ;
    rr:subjectMap :s_000 .

:s_000 a rr:SubjectMap ;
    rr:template "http://transport.linkeddata.es/madrid/metro/stops/{stop_id}" .

:source_000 a rml:LogicalSource ;
    rml:referenceFormulation ql:CSV ;
    rml:source "stops.csv" .

[] a rr:TriplesMap ;
    rml:logicalSource :source_000 ;
    rr:predicateObjectMap [ rr:objectMap :om_001 ;
            rr:predicateMap :pm_001 ] ;
    rr:subjectMap :s_000 .

